/**
 * generated by Xtext
 */
package org.pklose.espl.validation;

import java.util.List;
import org.eclipse.emf.common.util.EList;
import org.eclipse.xtext.validation.Check;
import org.pklose.espl.esplm.BREType;
import org.pklose.espl.esplm.BreEntityInput;
import org.pklose.espl.esplm.BusinessRule;
import org.pklose.espl.esplm.Entity;
import org.pklose.espl.esplm.EsplmPackage;
import org.pklose.espl.esplm.ModelElement;
import org.pklose.espl.esplm.SystemEntity;
import org.pklose.espl.validation.AbstractEsplmValidator;

/**
 * This class contains custom validation rules.
 * 
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation
 */
@SuppressWarnings("all")
public class EsplmValidator extends AbstractEsplmValidator {
  private final String SRC_TO_BIZ_ERROR = "F체r SrcToBiz sind nur Src Entit채ten als Input erlaubt";
  
  private final String BIZ_TO_BIZ_ERROR = "F체r BizToBiz sind nur Entit채ten als Input erlaubt";
  
  @Check
  public void checkBREInputTypesMatch(final BusinessRule businessRule) {
    EList<BreEntityInput> _inputs = businessRule.getInputs();
    List<BreEntityInput> inputElements = ((List<BreEntityInput>) _inputs);
    EList<BreEntityInput> _inputs_1 = businessRule.getInputs();
    for (final BreEntityInput bre : ((EList<BreEntityInput>) _inputs_1)) {
      {
        BREType _typ = businessRule.getTyp();
        boolean _equals = BREType.BIZ_TO_BIZ.equals(_typ);
        if (_equals) {
          ModelElement _inputElement = bre.getInputElement();
          if ((_inputElement instanceof SystemEntity)) {
            this.error(this.BIZ_TO_BIZ_ERROR, bre, EsplmPackage.Literals.BRE_ENTITY_INPUT__INPUT_ELEMENT);
          }
        }
        BREType _typ_1 = businessRule.getTyp();
        boolean _equals_1 = BREType.SRC_TO_BIZ.equals(_typ_1);
        if (_equals_1) {
          ModelElement _inputElement_1 = bre.getInputElement();
          if ((_inputElement_1 instanceof Entity)) {
            this.error(this.SRC_TO_BIZ_ERROR, bre, EsplmPackage.Literals.BRE_ENTITY_INPUT__INPUT_ELEMENT);
          }
        }
      }
    }
  }
}
